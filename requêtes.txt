Nombre utilisateur :

SELECT COUNT("user id") 
FROM utilisateur


Nombre de personnes qui suivent un utilisateur :

SELECT COUNT("num_suiveur") 
FROM amis
WHERE "num_suivi"==437625


Nombre de personnes que suit un utilisateur :

SELECT COUNT("num_suivi") 
FROM amis
WHERE "num_suiveur"==437625


Nombre de souhaits dans une liste de souhait :

SELECT COUNT("num produit") 
FROM "contenu wishlist"
WHERE "num wishlist"==4827093


Tous les souhaits d’une personne :

SELECT P.nom, E.évaluation, C.quantité
FROM produit P, "contenu wishlist" C, wishlist W, envie E
WHERE W."num utilisateur"==108494 AND W."num wishlist"==C."num wishlist" AND P."num produit"==C."num produit" 
AND E."num produit"==C."num produit" AND E."num utilisateur"==W."num utilisateur"


Tous les souhaits d’une wishlist liée à un utilisateur :

SELECT DISTINCT P.nom, E.évaluation, C.quantité
FROM produit P, "contenu wishlist" C, wishlist W, envie E
WHERE E."num utilisateur"==108494 AND 2741785==C."num wishlist" AND P."num produit"==C."num produit" AND E."num produit"==C."num produit"


Liste des personnes suivants une certaine personne :

SELECT prénom, nom, num_suiveur AS "user id"
FROM utilisateur U, amis A
WHERE A.num_suivi==437625 AND A.num_suiveur==U."user id"


Liste des personnes qu’une certaine personne suit :

SELECT prénom, nom, num_suivi AS "user id"
FROM utilisateur U, amis A
WHERE A.num_suiveur==437625 AND A.num_suivi==U."user id"


Vérification de la présence d'au moins un produit sur chaque wishlist:

SELECT DISTINCT nom , 
CASE WHEN EXISTS( SELECT "num wishlist" FROM "contenu wishlist" WHERE "num wishlist"==W."num wishlist")  THEN TRUE 
ELSE FALSE
END AS "au moins 1 produit(1=TRUE)"
FROM wishlist W


Nombre de souhaits de chaque utilisateur ayant créé une wishlist:

SELECT U.prénom,U.nom, COUNT( "num produit") AS "nombre de souhaits"
FROM wishlist W, "contenu wishlist" C, utilisateur U
WHERE W."num utilisateur"==U."user id" AND W."num wishlist"==C."num wishlist"
GROUP BY U."user id"
UNION 
SELECT U.prénom, U.nom,0
FROM utilisateur U
WHERE  U."user id" NOT IN (SELECT U."user id"
FROM wishlist W, "contenu wishlist" C, utilisateur U
WHERE W."num utilisateur"==U."user id" AND W."num wishlist"==C."num wishlist")


Nombre de souhaits de catégorie jeux vidéo de chaque utilisateur (aucun objet de catégorie sport donc nous avons choisie une autre catégorie):

SELECT U.prénom,U.nom, COUNT( P."num produit") AS "nombre de souhaits"
FROM wishlist W, "contenu wishlist" C, utilisateur U, produit P
WHERE W."num utilisateur"==U."user id" AND W."num wishlist"==C."num wishlist" AND P."num produit"==C."num produit" AND P.catégorie=="jeux vidéo"
GROUP BY U."user id"
UNION 
SELECT U.prénom, U.nom,0
FROM utilisateur U
WHERE  U."user id" NOT IN (SELECT U."user id" 
FROM wishlist W, "contenu wishlist" C, utilisateur U, produit P
WHERE W."num utilisateur"==U."user id" AND W."num wishlist"==C."num wishlist" AND P."num produit"==C."num produit" AND P.catégorie=="jeux vidéo")


Prix total de tous les souhaits pour chaque utilisateur:

SELECT SUM(quantité*prix) AS "coût total",U.nom 
FROM wishlist W, produit P, "contenu wishlist" C, utilisateur U
WHERE U."user id"==W."num utilisateur" AND W."num wishlist"==C."num wishlist" AND P."num produit"==C."num produit"
GROUP BY U.nom


Nom et prénom des propriétaires de chaque wishlist:

SELECT W.nom AS "nom wishlist", U.prénom , U.nom
FROM wishlist W, utilisateur U
WHERE W."num utilisateur"==U."user id"



Idées supplémentaires:

Lister l'évaluation moyenne de tous les produits:

SELECT P.nom, AVG(E.évaluation)
FROM  produit P, envie E
WHERE  P."num produit"==E."num produit"
GROUP BY P."num produit"


Trouver tous les produits qui ont été les mieux évalués par une certaine personne:

SELECT U.prénom, U.nom,P.nom, E.évaluation
FROM  produit P, envie E, utilisateur U
WHERE U."user id"==108494 AND U."user id"==E."num utilisateur" AND P."num produit"==E."num produit"
AND E.évaluation IN (SELECT MAX(E.évaluation)
FROM  produit P, envie E, utilisateur U
WHERE U."user id"==108494 AND U."user id"==E."num utilisateur" AND P."num produit"==E."num produit")


Lister le souhait le moins cher de chaque personne :

SELECT U.nom, U.prénom,P.nom, MIN(P.prix) AS "souhait le moins chers"
FROM utilisateur U, produit P, wishlist W, "contenu wishlist" C
WHERE W."num utilisateur"=U."user id" AND C."num wishlist"==W."num wishlist" AND C."num produit"==P."num produit"
GROUP BY U."user id"


Trouver l'évaluation laissée parmis les personnes qu'une certaine personne suit sur un certain objet:

SELECT U.prénom, U.nom, E.évaluation
FROM utilisateur U, envie E, amis A
WHERE E."num produit"==86482 AND U."user id"==E."num utilisateur" AND A.num_suiveur==437625 AND A.num_suivi==U."user id"


Trouver toutes les personnes qui se suivent mutuellement:

SELECT U1.prénom,U1.nom,U2.prénom,U2.nom
FROM utilisateur U1, amis A, amis B, utilisateur U2
WHERE A.num_suiveur==U1."user id" AND A.num_suiveur==B.num_suivi AND A.num_suivi==B.num_suiveur AND U2."user id"==B.num_suiveur AND U1.prénom<=U2.prénom


Trouver les personnes qui se suivent mutuellement mais n'ont pas choisi la même relation d'amitié:

SELECT U1.prénom,U1.nom,U2.prénom,U2.nom
FROM utilisateur U1, amis A, amis B, utilisateur U2
WHERE A.num_suiveur==U1."user id" AND A.num_suiveur==B.num_suivi AND A.num_suivi==B.num_suiveur AND U2."user id"==B.num_suiveur AND U1.prénom<=U2.prénom AND A.relation!=B.relation


